<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>Encryptor</title>
	<link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon">
	<link rel="icon" href="favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="../../style.css">
	<link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
	<meta name="viewport" content="width=device-width, initial-scale=1">		
	<!-- Google analytics 	-->
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-102699117-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];

		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());

		gtag('config', 'UA-102699117-1');

	</script>
</head>

<body>
	<header>
		<div class="nav-container">
			<nav>
				<ul>
					<li>
						<a href="../../index.html" class="nav-link">Home</a>
					</li>
					<li>
						<a href="../../index.html#portfolio" class="nav-link">Work</a>
					</li>
					<!-- Logo here -->
					<a href="../../index.html" class="nav-logo"><img class="nav-logo" src="../../images/SB-logo.png" alt="Logo for Sam Bindloss"></a>
					<li>
						<a href="../../index.html#blog" class="nav-link">Blog</a>
					</li>
					<li>
						<a href="../../index.html#contact" class="nav-link">Contact</a>
					</li>
				</ul>
			</nav>
		</div>
	</header>
	
	<button title="Back to top" id="myBtn" class="scroll" role="button">
        <span class="arrow-up">
        	<img src="../../images/chevron-up.png" alt="Up arrow" width="32" height="32">
        </span>
    </button>
    
	<main class="prog-container">
		<h1 class="prog-main-heading">Welcome to the Encryptor (Caesar Cipher)<b class="large-dot">â—¿</b></h1>

		<p><strong>Step by step guide:</strong></p>
		<ul class="blog-list">
			<li>Set a key (Positive number only)</li>
			<li>Type in any message of your choice in to the encryptor text box</li>
			<li>Then copy and paste the encrypted message provided in to the decryptor text box</li>
		</ul>

		<!-- KEY PANEL -->

		<div class="panel">
			<p>Please set the key required here and then enter a message below for encryption and decryption: <input type="number" id="keyInput" placeholder="...">
			</p>
		</div>

		<div id="encrypDiv" class="panel side-by-side">



			<!-- ENCRYPTOR PANEL -->

			<h2 class="prog-sub-header">Encryptor</h2>
			<p>Type in a message to be encrypted here:</p>

			<textarea id="input1" rows="4" cols="45" placeholder="Type here:" onkeyup="letterValidation(this)">
			</textarea>

			<button id="encryptor">Enter</button>

			<p>The message you have input has been encrypted as:</p>

			<p id="encryptorOutput"></p>

		</div>


		<!-- DECRYPTOR PANEL -->

		<div class="panel side-by-side">

			<h2 class="prog-sub-header">Decryptor</h2>
			<p>Type in a message to be decrypted here:</p>

			<textarea id="input2" rows="4" cols="45" placeholder="Type here:" onkeyup="letterValidation(this)">
			</textarea>


			<button id="decryptor">Enter</button>

			<p>The message you have input has been decrypted as:</p>

			<p id="decryptorOutput"></p>
		</div>
		
	</main>

	<script>
		function letterValidation(inputTxt) {

			var letters = /[^a-z ]/gi;
			inputTxt.value = inputTxt.value.replace(letters, "");
		}

		var button = document.getElementById("encryptor");
		button.addEventListener("click", clickHandler);

		var alphabet = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";


		/* 		 		ENCRYPTOR 			*/


		function clickHandler() {

			var messageInput = document.getElementById("input1").value;

			document.getElementById("encryptorOutput").value;

			var key = parseInt(document.getElementById("keyInput").value);


			var encryptedWord = [];

			for (i = 0; i < messageInput.length; i++) {
				var indexLetter1 = alphabet.indexOf(messageInput[i]);


				if (indexLetter1 < 52) {
					var indexLetter2 = indexLetter1 += key;


					if (messageInput[i] == ' ') {
						encryptedWord.push(' ');

					} else if (indexLetter2 >= 52) {
						indexLetter2 = indexLetter2 - alphabet.length;
						encryptedWord.push(alphabet[indexLetter2]);
					} else {
						encryptedWord.push(alphabet[indexLetter2]);
					}

				} else {

					var indexLetter2 = indexLetter1 += (key - alphabet.length);

					encryptedWord.push(alphabet[indexLetter2]);
				}

			}

			var finalString = encryptedWord.join("");

			encryptorOutput.innerHTML = finalString;


		}


		/* 		DECRYPTOR 		*/


		var button = document.getElementById("decryptor");
		button.addEventListener("click", decryptorButton);

		function decryptorButton() {

			var decryptorInput = document.getElementById("input2").value;

			document.getElementById("decryptorOutput").value;

			var key = parseInt(document.getElementById("keyInput").value);


			var decryptedWord = [];

			for (i = 0; i < decryptorInput.length; i++) {
				var indexLetter3 = alphabet.indexOf(decryptorInput[i]);


				if (indexLetter3 < 52) {
					var indexLetter4 = indexLetter3 -= key;


					if (decryptorInput[i] == " ") {
						decryptedWord.push(' ');

					} else if (indexLetter4 < 0) {
						indexLetter4 = alphabet.length + indexLetter4;
						decryptedWord.push(alphabet[indexLetter4]);
					} else {
						decryptedWord.push(alphabet[indexLetter4]);
					}

				} else {
					indexLetter4 = indexLetter3 -= (key + alphabet.length);

					decryptedWord.push(alphabet[indexLetter4]);
				}

			}

			var finalString2 = decryptedWord.join("");

			decryptorOutput.innerHTML = finalString2;


		}

	</script>
	<script src="../../script.js" type="text/javascript"></script>

</body>

</html>
